<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#003366">
    <title>Club Registration - Entrepreneurship, Start-up & Incubation Club</title>
    <!-- Favicon using emoji -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ“</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- React CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX processing -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState } = React;

        const ClubRegistration = () => {
            const [formData, setFormData] = useState({
                name: '',
                division: '',
                branch: '',
                contactNumber: '',
                email: ''
            });

            const [errors, setErrors] = useState({});
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [isSubmitted, setIsSubmitted] = useState(false);

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: value
                }));

                // Clear error when user starts typing
                if (errors[name]) {
                    setErrors(prev => ({
                        ...prev,
                        [name]: ''
                    }));
                }
            };

            const validateForm = () => {
                const newErrors = {};

                // Name validation
                if (!formData.name.trim()) {
                    newErrors.name = 'Name is required';
                } else if (formData.name.trim().length < 2) {
                    newErrors.name = 'Name must be at least 2 characters';
                }

                // Division validation
                if (!formData.division) {
                    newErrors.division = 'Division is required';
                }

                // Branch validation
                if (!formData.branch) {
                    newErrors.branch = 'Branch is required';
                }

                // Contact number validation (Indian format)
                if (!formData.contactNumber) {
                    newErrors.contactNumber = 'Contact number is required';
                } else if (!/^[6-9]\d{9}$/.test(formData.contactNumber)) {
                    newErrors.contactNumber = 'Please enter a valid 10-digit Indian mobile number';
                }

                // Email validation
                if (!formData.email) {
                    newErrors.email = 'Email is required';
                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
                    newErrors.email = 'Please enter a valid email address';
                }

                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();

                if (!validateForm()) {
                    return;
                }

                setIsSubmitting(true);

                // Format data for Google Sheets
                const payload = {
                    timestamp: new Date().toISOString(),
                    name: formData.name,
                    division: formData.division,
                    branch: formData.branch,
                    contactNumber: formData.contactNumber,
                    email: formData.email
                };

                try {
                    // Replace with your Google Apps Script URL
                    const response = await fetch('https://script.google.com/macros/s/AKfycbzrR8Gg4r61khOnRHl600snlIRsyNtP6kxTPbMzPAwd1e6RTE9PZMF7e07CniIkQgnf/exec', {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(payload)
                    });

                    // Show success message (no-cors mode doesn't give us response data)
                    setIsSubmitted(true);
                } catch (error) {
                    console.error('Error:', error);
                    alert('Registration failed. Please check the console for more details and try again.');
                } finally {
                    setIsSubmitting(false);
                }
            };

            if (isSubmitted) {
                return (
                    <div>
                        <header>
                            <div class="container">
                                <div class="header-content">
                                    <img src="https://mlcoe.mespune.in/wp-content/uploads/2025/07/mlcoe-logo.png" alt="College Logo" class="logo" />
                                    <div class="header-text">
                                        <h1>MES Mukunddas Lohia College of Engineering, Pune</h1>
                                        <h2>Entrepreneurship, Start-up & Incubation Club</h2>
                                    </div>
                                </div>
                            </div>
                        </header>

                        <main>
                            <div class="container">
                                <div class="success-message">
                                    <div class="success-content">
                                        <div class="success-icon">âœ“</div>
                                        <h3>Registration Successful!</h3>
                                        <p>Thank you <strong>{formData.name}</strong> for registering with our club.</p>
                                        <p>We'll contact you soon with further details.</p>
                                        <div class="success-footer">
                                            <p>You will receive further instructions and updates through email and WhatsApp.</p>
                                            <div style={{ marginTop: '25px', padding: '15px', backgroundColor: 'rgba(37, 211, 102, 0.1)', borderRadius: '8px', border: '1px solid #25D366' }}>
                                                <p style={{ fontWeight: 'bold', color: '#25D366', fontSize: '1.1rem', marginBottom: '10px' }}>
                                                    ðŸ”¥ Important: Join our WhatsApp group for immediate updates!
                                                </p>
                                                <a href="https://chat.whatsapp.com/DWy2cgks7on9X11Zzk0KUH?mode=wwt" 
                                                   target="_blank" 
                                                   rel="noopener noreferrer"
                                                   class="whatsapp-link">
                                                    Click here to join our WhatsApp group
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>

                        <footer>
                            <div class="container">
                                <p>&copy; 2025 MES Mukunddas Lohia College of Engineering, Pune. All rights reserved.</p>
                            </div>
                        </footer>
                    </div>
                );
            }

            return (
                <div>
                    <header>
                        <div class="container">
                            <div class="header-content">
                                <img src="https://mlcoe.mespune.in/wp-content/uploads/2025/07/mlcoe-logo.png" alt="College Logo" class="logo" />
                                <div class="header-text">
                                    <h1>MES Mukunddas Lohia College of Engineering, Pune</h1>
                                    <h2>Entrepreneurship, Start-up & Incubation Club</h2>
                                </div>
                            </div>
                        </div>
                    </header>

                    <main>
                        <div class="container">
                            <div class="about-section">
                                <h3>College Project Registration</h3>
                                <p style={{ textAlign: 'center', marginBottom: '20px', fontSize: '1.1rem' }}>
                                    This project is organized by MES MLCOE College under the guidance of our Principal Sir and Club Coordinator, Ketan Sir.
                                </p>
                                <p style={{ textAlign: 'center', marginBottom: '15px', fontSize: '1rem', color: '#666' }}>
                                    We are working on the following Smart India Hackathon (SIH) problem statements:
                                </p>
                                <p style={{ textAlign: 'center', marginBottom: '10px', fontSize: '1rem', color: '#666' }}>
                                    <strong>1. AI-Based Internship Recommendation Engine for PM Internship Scheme</strong> (SIH No. 25034)
                                </p>
                                <p style={{ textAlign: 'center', marginBottom: '10px', fontSize: '1rem', color: '#666' }}>
                                    <strong>2. Sign Language Capture and Illustration System with Sensor Integration</strong> (SIH No. 25247)
                                </p>
                                <p style={{ textAlign: 'center', marginBottom: '10px', fontSize: '1rem', color: '#666' }}>
                                    <strong>3. Student Innovation: Swadeshi for Atmanirbhar Bharat â€“ Miscellaneous</strong> (SIH No. 25115)
                                </p>
                                <p style={{ textAlign: 'center', marginBottom: '30px', fontSize: '1rem', color: '#666' }}>
                                    We are currently forming a team of <strong>6 girls</strong> and <strong>5 boys</strong> to collaborate on these projects.
                                    If you're passionate about innovation and technology, we invite you to register below and join us!
                                </p>
                            </div>

                            <form onSubmit={handleSubmit}>
                                <div class="form-group">
                                    <label htmlFor="name">Full Name *</label>
                                    <input 
                                        type="text" 
                                        id="name" 
                                        name="name" 
                                        value={formData.name} 
                                        onChange={handleChange} 
                                        required 
                                    />
                                    {errors.name && <div style={{ color: '#e74c3c', fontSize: '14px', marginTop: '5px' }}>{errors.name}</div>}
                                </div>

                                <div class="form-group">
                                    <label htmlFor="division">Division *</label>
                                    <select 
                                        id="division" 
                                        name="division" 
                                        value={formData.division} 
                                        onChange={handleChange} 
                                        required
                                    >
                                        <option value="">Select Division</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                    </select>
                                    {errors.division && <div style={{ color: '#e74c3c', fontSize: '14px', marginTop: '5px' }}>{errors.division}</div>}
                                </div>

                                <div class="form-group">
                                    <label htmlFor="branch">Branch *</label>
                                    <select 
                                        id="branch" 
                                        name="branch" 
                                        value={formData.branch} 
                                        onChange={handleChange} 
                                        required
                                    >
                                        <option value="">Select Branch</option>
                                        <option value="Computer Engineering">Computer Engineering</option>
                                        <option value="IT">IT</option>
                                        <option value="AIML">AIML</option>
                                        <option value="ENTC">ENTC</option>
                                    </select>
                                    {errors.branch && <div style={{ color: '#e74c3c', fontSize: '14px', marginTop: '5px' }}>{errors.branch}</div>}
                                </div>

                                <div class="form-group">
                                    <label htmlFor="contactNumber">Contact Number (Indian) *</label>
                                    <input 
                                        type="tel" 
                                        id="contactNumber" 
                                        name="contactNumber" 
                                        value={formData.contactNumber} 
                                        onChange={handleChange} 
                                        placeholder="e.g., 9876543210"
                                        maxLength="10"
                                        required 
                                    />
                                    {errors.contactNumber && <div style={{ color: '#e74c3c', fontSize: '14px', marginTop: '5px' }}>{errors.contactNumber}</div>}
                                </div>

                                <div class="form-group">
                                    <label htmlFor="email">Email Address *</label>
                                    <input 
                                        type="email" 
                                        id="email" 
                                        name="email" 
                                        value={formData.email} 
                                        onChange={handleChange} 
                                        placeholder="e.g., example@mlcoe.edu.in"
                                        required 
                                    />
                                    {errors.email && <div style={{ color: '#e74c3c', fontSize: '14px', marginTop: '5px' }}>{errors.email}</div>}
                                </div>

                                <button type="submit" disabled={isSubmitting}>
                                    {isSubmitting ? 'Registering...' : 'Register for Project'}
                                </button>
                            </form>
                        </div>
                    </main>

                    <footer>
                        <div class="container">
                            <p>&copy; 2025 MES Mukunddas Lohia College of Engineering, Pune. All rights reserved.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ClubRegistration />);
    </script>
</body>
</html>